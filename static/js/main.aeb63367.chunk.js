(this["webpackJsonpmy-reactjs"]=this["webpackJsonpmy-reactjs"]||[]).push([[0],{131:function(e,r){},217:function(e,r){},218:function(e,r,t){},220:function(e,r,t){"use strict";t.r(r);var n=t(8),s=(t(123),t(0)),o=t.n(s),a=t(26),c=t.n(a),i=t(50),l=t(114),m=t(14),u=(t(131),t(223)),j=t(224),d=t(225),b=t(227),p=t(226),g=t(228),h=t(116),f=t(105),O=t.n(f).a.create({baseURL:"https://fakestoreapi.com/"});O.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),O.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var x=O,w={login:function(e){return x.post("auth/login",e)},getUser:function(e){return x.get("users/me",{headers:{Authorization:"Bearer"+e}})}},S=t(79),I=Object(S.createSlice)({name:"login",initialState:{isLoading:!1,isAuth:!1,error:"",access_token:{}},reducers:{loginProcess:function(e){e.isLoading=!0},loginSuccess:function(e,r){e.isLoading=!1,e.isAuth=!0,e.error="",e.access_token=r},loginFail:function(e,r){e.isLoading=!1,e.error=r}}}),v=I.reducer,k=I.actions,y=k.loginProcess,P=k.loginSuccess,_=k.loginFail,L=v,C=function(e){return function(r){r(y()),w.login(e).then((function(e){var t;console.log("response:",e),r(P(e)),t=e.token,localStorage.setItem("token",t),window.location="/"})).catch((function(e){console.log(e),r(_("T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c"))}))}};var N=function(){var e=Object(i.b)(),r=localStorage.getItem("remember_me"),t=localStorage.getItem("username"),s=localStorage.getItem("password")?window.atob(localStorage.getItem("password")):null,o={remember_me:r,username:t||"",password:s||""},a={username:[{required:!0,whitespace:!0,message:"Please enter username"}],password:[{required:!0,message:"Please enter password"}]},c=Object(i.c)((function(e){return e.login})).error;return Object(n.jsxs)(d.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:o,onFinish:function(r){console.log("Get form Login:",r);var t=r.username,n=r.password,s=r.remember_me;s&&""!==t?(localStorage.setItem("username",t),localStorage.setItem("password",window.btoa(n)),localStorage.setItem("remember_me",s)):(localStorage.setItem("username",""),localStorage.setItem("password",""),localStorage.setItem("remember_me","")),e(C({username:t,password:n}))},autoComplete:"off",children:[Object(n.jsx)(d.a.Item,{label:"Username",name:"username",rules:a.username,children:Object(n.jsx)(b.a,{})}),Object(n.jsx)(d.a.Item,{label:"Password",name:"password",rules:a.password,children:Object(n.jsx)(b.a.Password,{})}),c&&Object(n.jsx)(p.a,{message:c,type:"error"}),Object(n.jsx)(d.a.Item,{name:"remember_me",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(n.jsx)(g.a,{checked:r,children:"Remember me"})}),Object(n.jsx)(d.a.Item,{wrapperCol:{offset:8,span:16},children:Object(n.jsx)(h.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})};var F=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"center",children:"Login"}),Object(n.jsx)(u.a,{justify:"center",children:Object(n.jsx)(j.a,{xl:6,children:Object(n.jsx)(N,{})})})]})};var U=function(e){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"NOT FOUND"})})},q=(t(217),t(218),function(){return Object(n.jsx)("div",{className:"app",children:Object(n.jsxs)(m.c,{children:[Object(n.jsx)(m.a,{path:"/login",component:F,exact:!0}),Object(n.jsx)(m.a,{component:U})]})})}),A=t(30),R=t(47),T=t(79),B=T.configureStore,J=(0,T.combineReducers)({login:L}),z=[R.a],D=B({reducer:J},A.b.apply(void 0,z));c.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(i.a,{store:D,children:Object(n.jsx)(l.a,{children:Object(n.jsx)(q,{})})})}),document.getElementById("root"))}},[[220,1,2]]]);
//# sourceMappingURL=main.aeb63367.chunk.js.map