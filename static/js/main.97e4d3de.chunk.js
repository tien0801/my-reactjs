(this["webpackJsonpmy-reactjs"]=this["webpackJsonpmy-reactjs"]||[]).push([[0],{137:function(e,t){},233:function(e,t,r){},235:function(e,t,r){"use strict";r.r(t);var n=r(8),s=(r(129),r(0)),a=r.n(s),c=r(26),o=r.n(c),i=r(51),u=r(120),l=r(39),m=r.n(l),j=r(74),d=r(87),p=r(14),b=(r(137),r(238)),h=r(239),g=r(240),f=r(242),O=r(241),x=r(243),w=r(122),S=r(81),v=r.n(S).a.create({baseURL:"https://fakestoreapi.com/"});v.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),v.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var _=v,I={login:function(e){return _.post("auth/login",e)},getUser:function(e){return _.get("users/me",{headers:{Authorization:"Bearer"+e}})}},P=r(83),k=Object(P.createSlice)({name:"login",initialState:{isLoading:!1,isAuth:!1,error:"",access_token:{}},reducers:{loginProcess:function(e){e.isLoading=!0},loginSuccess:function(e,t){e.isLoading=!1,e.isAuth=!0,e.error="",e.access_token=t},loginFail:function(e,t){e.isLoading=!1,e.error=t}}}),C=k.reducer,y=k.actions,E=y.loginProcess,T=y.loginSuccess,L=y.loginFail,R=C,A=function(e){return function(t){t(E()),I.login(e).then((function(e){var r;console.log("response:",e),t(T(e)),r=e.token,localStorage.setItem("token",r),window.location="/"})).catch((function(e){console.log(e),t(L("T\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c"))}))}};var N=function(){var e=Object(i.b)(),t=localStorage.getItem("remember_me"),r=localStorage.getItem("username"),s=localStorage.getItem("password")?window.atob(localStorage.getItem("password")):null,a={remember_me:t,username:r||"",password:s||""},c={username:[{required:!0,whitespace:!0,message:"Please enter username"}],password:[{required:!0,message:"Please enter password"}]},o=Object(i.c)((function(e){return e.login})).error;return Object(n.jsxs)(g.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:a,onFinish:function(t){console.log("Get form Login:",t);var r=t.username,n=t.password,s=t.remember_me;s&&""!==r?(localStorage.setItem("username",r),localStorage.setItem("password",window.btoa(n)),localStorage.setItem("remember_me",s)):(localStorage.setItem("username",""),localStorage.setItem("password",""),localStorage.setItem("remember_me","")),e(A({username:r,password:n}))},autoComplete:"off",children:[Object(n.jsx)(g.a.Item,{label:"Username",name:"username",rules:c.username,children:Object(n.jsx)(f.a,{})}),Object(n.jsx)(g.a.Item,{label:"Password",name:"password",rules:c.password,children:Object(n.jsx)(f.a.Password,{})}),o&&Object(n.jsx)(O.a,{message:o,type:"error"}),Object(n.jsx)(g.a.Item,{name:"remember_me",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(n.jsx)(x.a,{checked:t,children:"Remember me"})}),Object(n.jsx)(g.a.Item,{wrapperCol:{offset:8,span:16},children:Object(n.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})};var U=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"center",children:"Login"}),Object(n.jsx)(b.a,{justify:"center",children:Object(n.jsx)(h.a,{xl:6,children:Object(n.jsx)(N,{})})})]})};var F=function(e){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"NOT FOUND"})})},D=r(119),B=new(r.n(D).a)(Object({NODE_ENV:"production",PUBLIC_URL:"/my-reactjs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CHEC_PUBLIC_KEY,!0),H=(r(233),function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),r=(t[0],t[1]),a=Object(s.useState)({}),c=Object(d.a)(a,2),o=c[0],i=c[1],u=function(){var e=Object(j.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.products.list();case 2:t=e.sent,n=t.data,r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,B.cart.retrieve();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){u(),l()}),[]),console.log(o),Object(n.jsx)("div",{className:"app",children:Object(n.jsxs)(p.c,{children:[Object(n.jsx)(p.a,{path:"/login",component:U}),Object(n.jsx)(p.a,{component:F})]})})}),K=r(31),q=r(48),W=r(83),J=W.configureStore,V=(0,W.combineReducers)({login:R}),z=[q.a],G=J({reducer:V},K.b.apply(void 0,z));o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(i.a,{store:G,children:Object(n.jsx)(u.a,{children:Object(n.jsx)(H,{})})})}),document.getElementById("root"))}},[[235,1,2]]]);
//# sourceMappingURL=main.97e4d3de.chunk.js.map